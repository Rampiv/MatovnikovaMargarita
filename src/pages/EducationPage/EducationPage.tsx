import { useContext, useEffect, useRef } from "react"
import "./EducationPage.scss"
import { AppContext } from "../../context/contextProvider"
import { CommonLink } from "../../components"
import { gsap } from "gsap"
import { useGSAP } from "@gsap/react"
import { ContentAnimation } from "@kit/ContentAnimation"

gsap.registerPlugin(useGSAP)

export const EducationPage = () => {
  const { setRoute } = useContext(AppContext)

  const containerRef = useRef<HTMLDivElement>(null)
  const h1Ref = useRef<HTMLHeadingElement>(null)
  const listItemsRef = useRef<HTMLLIElement[]>([])
  const linkRef = useRef<HTMLDivElement>(null)
  const tl = useRef<gsap.core.Timeline>()

  useEffect(() => {
    setRoute("/education")
  }, [setRoute])

  useGSAP(
    () => {
      tl.current = ContentAnimation({ h1Ref, listItemsRef, linkRef })
    },
    { scope: containerRef },
  )

  const addToListRefs = (el: HTMLLIElement | null, index: number) => {
    if (el) listItemsRef.current[index] = el
  }

  return (
    <section className="education">
      <div className="container" ref={containerRef}>
        <h1 className="h1" ref={h1Ref}>
          –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        </h1>

        <ul className="education__list">
          <li className="education__item" ref={el => addToListRefs(el, 0)}>
            üéì –Ø –≤—ã–ø—É—Å–∫–Ω–∏—Ü–∞ –†—è–∑–∞–Ω—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ
            —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏–º. –ò.–ü. –ü–∞–≤–ª–æ–≤–∞`20 –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
            <strong>¬´–ö–ª–∏–Ω–∏—á–µ—Å–∫–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è¬ª</strong>. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî
            <strong>¬´–ü–∞—Ç–æ–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Å–∏—Ö–æ—Ç–µ—Ä–∞–ø–∏—è¬ª</strong>.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 1)}>
            –ò–º–µ—é <strong>2 –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏</strong> –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
            –≥–µ—à—Ç–∞–ª—å—Ç-—Ç–µ—Ä–∞–ø–∏–∏ –∏ –ø—Å–∏—Ö–æ–¥—Ä–∞–º—ã (1 —Å—Ç—É–ø–µ–Ω—å).
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 2)}>
            –í –º–∞—Ä—Ç–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞ –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –≤—Ç–æ—Ä–æ–π —Å—Ç—É–ø–µ–Ω–∏
            –≥–µ—à—Ç–∞–ª—å—Ç-–ø–æ–¥—Ö–æ–¥–∞ –≤
            <strong>–ú–æ—Å–∫–æ–≤—Å–∫–æ–º –ò–Ω—Å—Ç–∏—Ç—É—Ç–µ –ì–µ—à—Ç–∞–ª—å—Ç–∞ –∏ –ü—Å–∏—Ö–æ–¥—Ä–∞–º—ã (–ú–ò–ì–∏–ü)</strong>
            .
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 3)}>
            –° –º–æ–º–µ–Ω—Ç–∞ –≤—ã–ø—É—Å–∫–∞
            <strong>
              –±–æ–ª–µ–µ –ø—è—Ç–∏ –ª–µ—Ç –≤–µ–¥—É –∞–∫—Ç–∏–≤–Ω—É—é –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ø—Ä–∞–∫—Ç–∏–∫—É
            </strong>
            ‚Äî –Ω–∞ –º–æ–µ–º —Å—á–µ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Ç–µ–Ω –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –∏ –¥–µ—Å—è—Ç–∫–∏
            –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 4)}>
            –ù–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª–µ—Ç —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–º –≤—É–∑–µ (–†—è–∑–ì–ú–£) –∏
            –æ–∫–∞–∑—ã–≤–∞–ª–∞ <strong>–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É</strong>
            —Å—Ç—É–¥–µ–Ω—Ç–∞–º, –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª—è–º –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 5)}>
            <strong>–í–µ–¥—É –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã –∏ –ø—Ä–æ–≤–æ–∂—É —Ç—Ä–µ–Ω–∏–Ω–≥–∏</strong> –ø–æ
            —Ä–∞–∑–≤–∏—Ç–∏—é –Ω–∞–≤—ã–∫–æ–≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏, –æ–±—É—á–µ–Ω–∏—é
            —Ç–µ—Ö–Ω–∏–∫–∞–º —Ä–µ–ª–∞–∫—Å–∞—Ü–∏–∏, —Å–ø–æ—Å–æ–±–∞–º —Å–æ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è —Å –±–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–º –∏
            –º–Ω–æ–≥–æ–º—É –¥—Ä—É–≥–æ–º—É.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 6)}>
            <strong>
              –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Ö–æ–∂—É –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–æ—Å–µ—â–∞—é –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã.
              –ü—Ä–∏–Ω–∏–º–∞—é —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è—Ö.
            </strong>
            –í —Ç–æ–º —á–∏—Å–ª–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç—Ä–µ–Ω–µ—Ä–∞.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 7)}>
            –í 2018 –≥–æ–¥—É –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –º–µ—Å—è—Ü–∞ —Å—Ç–∞–∂–∏—Ä–æ–≤–∞–ª–∞—Å—å –≤
            <strong>–°–µ—Ä–±–∏–∏ (–ë–µ–ª–≥—Ä–∞–¥)</strong> –∏ –ø–æ–ª—É—á–∞–ª–∞ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤
            –ø—Å–∏—Ö–∏–∞—Ç—Ä–∏—á–µ—Å–∫–æ–º –æ—Ç–¥–µ–ª–µ–Ω–∏–∏ –±–æ–ª—å–Ω–∏—Ü—ã.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 8)}>
            –ò–º–µ—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø–æ —Ä–∞–±–æ—Ç–µ —Å
            <strong>–æ—Å—Ç—Ä—ã–º–∏ —Å—Ç—Ä–µ—Å—Å–æ–≤—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏</strong> –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö
            —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 9)}>
            –ü–æ–º–∏–º–æ –æ–±—É—á–µ–Ω–∏—è
            <strong>
              —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞—é –≤ —Å—É–ø–µ—Ä–≤–∏–∑–∏–æ–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ—Ä–≤–∏–∑–∏–æ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö
            </strong>
            (–ø–æ–≤—ã—à–∞—é —Å–≤–æ—é –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –∏ –ø–æ–ª—É—á–∞—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏
            –æ–ø—ã—Ç –æ—Ç –∫–æ–ª–ª–µ–≥).
          </li>

          <li className="education__item" ref={el => addToListRefs(el, 10)}>
            –ù–∞—Ö–æ–∂—É—Å—å –≤ <strong>–ª–∏—á–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏ –∏ —Å—É–ø–µ—Ä–≤–∏–∑–∏–∏</strong>, —á—Ç–æ
            –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–Ω–µ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–≤—ã—à–∞—Ç—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å
            –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º–∞.
          </li>
        </ul>

        <div ref={linkRef}>
          <CommonLink
            data={{
              link: "/competence",
              text: "–ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏",
            }}
            linkRef={linkRef}
          />
        </div>
      </div>
    </section>
  )
}
